---
date: 2015-08-17T12:00:00+09:00
title: ペパボ新卒エンジニア研修2015・モバイルアプリ研修が始まっています
draft: true
tags:
- pepabo
---
いま、ペパボでは新卒エンジニア研修2015を実施しています。
6/8から12/31の約7ヶ月間で、前半4ヶ月を「基礎研修」、後半3ヶ月を「サイクルOJT」と称しています。

6/8から7/3のWeb開発研修では、Rails Tutorial[^1] を教材とした Web 開発に関する研修が実施されました。
7/6から8/7のWebオペレーション研修では、ペパボの仮想インフラ基盤[^2]の上に、Rails を動かすべく、可用性を意識したインフラの設計・構築・運用を行ってもらいました。

- [ペパボ新卒エンジニア研修2015が始まっています](/2015/06/14/pepabo-engineer-training-2015/)
- [ペパボ新卒エンジニア研修2015・Webオペレーション研修が始まっています](/2015/07/20/pepabo-web-operation-training-2015/)

そして8/17から、基礎研修の3つ目となる「モバイルアプリ研修」が始まりました。
そこで今回は、8/7に完遂したWebオペレーション研修の歩みと、モバイルアプリ研修の話をしようと思います。

Webオペレーション研修
---

### どんなゴールだったか

Webオペレーション研修では、 を、概ね以下のようなやり方で進めてもらいました。

[![](/images/2015/07/20/nyah.png)](https://suzuri.jp/search?q=nyah)  
*Nyah のロゴ*

```
 +---------------+
 | reverse proxy |
 +---------------+
         |
...................
.                 .
. +-----+ +-----+ .   +---------+
. | app | | app | .---| storage |
. +-----+ +-----+ .   +---------+
...................
         |
    +--------+   +---------+
    | master |---| replica |
    +--------+   +---------+
```

### Webオペレーション研修のふりかえり (KPT) の様子

8/7 のWebオペレーション研修最終日には、みんなでふりかえり (KPT) を行いました。

[![](/images/2015/08/17/kpt01_large.jpg)](/images/2015/08/17/kpt01_full.jpg)
*ふりかえり (KPT) の様子*

[![](/images/2015/08/17/kpt02_large.jpg)](/images/2015/08/17/kpt02_full.jpg)
*Try が出せなくて議論している様子*

[![](/images/2015/08/17/kpt03_large.jpg)](/images/2015/08/17/kpt03_full.jpg)
*Webオペレーション研修の KPT*

### ホワイトボードで毎日の進捗確認

Webオペレーション研修を経て、完成（？）したホワイトボードがこちら。

[![](/images/2015/08/17/kanban_large.jpg)](/images/2015/08/17/kanban_full.jpg)
*段々とキャラクタが増えています*

黄緑色の付箋は、おかわり課題として用意していたものです。
守り神も増えました。

モバイルアプリ研修イントロダクション
---

さて、本日8/17 から新たにモバイルアプリ研修が始まりました。
初日はイントロダクションとして、研修のゴールや進め方についてお話させていただきました。

*ここにスライドを掲載する*

モバイルアプリ研修のゴール
---

「アプリが『動く』インフラを、ステップ・バイ・ステップで成長させる」ことをゴールとして、5つのステップを設けました。

![](/images/2015/07/20/goal.png)
*Vagrant編・Nyah編（後述）、合わせて5つのステップ*

各ステップの課題は以下のとおりです。

- 編
  1. Web開発研修で作成した Rails アプリを、Vagrant で動かす (manual install)
  1. Serverspec, Infrataster などでサーバの構成・振る舞いをテストする (test)
  1. Itamaeでサーバ構成をコード化する (infra as code)
- Nyah編
  1. Nyah 上のインスタンスで Rails アプリケーションを動かす (trasfer)
  1. 役割ごとにインスタンスを分割し、耐障害性を向上させる (high availability)

また、この研修ではチーム制を導入しており、**test** のステップから2人1組のチームを結成して課題に取り組んでもらっています。

### 第1ステップ

Rails Tutorial ではアプリケーションを動かす環境に Heroku を利用していましたが、このステップでは、Rails アプリを Vagrant 上の CentOS 7 で動かせるようにすることが課題です。

[![](/images/2015/07/20/vagrant.png)](https://www.vagrantup.com/)

Rails アプリに必要なミドルウェアやそれらの機能を学ぶこと、また Linux に挑んでもらうことを目的としています。

（実際はもっと細かく多いですが）以下のような作業内容を想定しています。

- Rails アプリを MariaDB, Unicorn に対応させる (Heroku では PostgreSQL, Puma だった)
- MariaDB をインストールする
- Nginx をインストールする
- Ruby 2.2 をインストールする
- Rails アプリを設置する
- systemd で各種ミドルウェア、Rails アプリをサービスとして動作させる

Linux や [Vagrant](https://www.vagrantup.com/)、[FHS](http://www.pathname.com/fhs/pub/fhs-2.3.html)、パーミッション、所有者・グループ、ファイアウォール、リポジトリ、systemd、データベース、Web サーバ、UNIX ドメインソケット、...
若干盛り込み過ぎに見えなくもないですが、続くステップで繰り返し復習し、段々と理解を深めていってもらいたいと考えています。

### 第2ステップ

先のステップで構築した Rails アプリサーバが、意図通り動いていることを保証するテストは重要です。

そこでこのステップでは、[Serverspec](http://serverspec.org), [Infrataster](https://github.com/ryotarai/infrataster) を使ってサーバテストを導入していきます。
（ただし、Infrataster は余裕のある場合のおかわり課題という位置づけです。）

[![](https://avatars2.githubusercontent.com/u/3970679?s=400)](https://github.com/serverspec/serverspec)

manual install でインストールしたパッケージ、変更した設定ファイル、有効化したサービス、自動起動の設定、ポートのリスン、アクセス権（パーミッションや所有者・グループ）など、ステップ1で実施した内容のテストをザッと書いてもらいます。

なお、研修ではこのタイミングで2人1組のチームを組んでもらい、「どのようなテストを書けばよいのか」についてはチームで話し合って決めてもらいます。
ただし、この段階ではあまり時間をかけず、続く infra as code のステップで更にテストを内容を充実させていってもらいます。


おわりに
---


求人
---

ペパボでは2016年4月に入社していただく新卒エンジニアの募集を行っています。
ご興味あるかたは是非 ;-)

[![](/images/2015/07/20/team.jpg)](https://www.wantedly.com/projects/25397)
*[未来のトップエンジニアを大募集！技術力で世界をもっとおもしろくしよう - GMOペパボ株式会社の求人 - Wantedly](https://www.wantedly.com/projects/25397)*

[^1]: https://www.railstutorial.org/book
[^2]: http://www.slideshare.net/ume3_/pb-tc01-bob001
